# Design Document

## Overview

KT 해커톤 Track2 예선을 위한 한국어 문장 분류 시스템 프롬프트 설계입니다. GPT4o 기반 Custom 모델이 한국어 문장을 4가지 속성으로 정확하게 분류할 수 있도록 하는 시스템 프롬프트를 개발합니다. 대회 평가 기준(분류 정확도 80%, 한글 비율 10%, 길이 점수 10%)을 고려하여 최적화된 프롬프트를 설계합니다.

## Architecture

### 시스템 프롬프트 구조
```
1. 역할 정의 (한글 중심)
2. 분류 기준 상세 설명 (4가지 속성)
3. 출력 형식 지침
4. 예시 및 주의사항
5. 품질 보장 지침
```

### 분류 속성 정의

#### 1. 유형 분류
- **사실형**: 객관적 사실, 과거 사건, 통계, 인용문, 정의 등
- **추론형**: 분석, 해석, 의견, 추측, 가능성 표현 등  
- **대화형**: 직접 인용문, 대화체, "~습니다", "~해요" 등 구어체
- **예측형**: 미래 예측, 날씨 예보, 계획, "~할 것이다", "~예정" 등

#### 2. 극성 분류
- **긍정**: 긍정적 내용, 중립적 서술
- **부정**: 부정문, 문제점 지적, 실패, 거부 등
- **미정**: 질문문, 불확실한 추측, 가정법

#### 3. 시제 분류
- **과거**: 과거 시제 표현, "~했다", "~였다" 등
- **현재**: 현재 시제, 일반적 사실, "~이다", "~한다" 등
- **미래**: 미래 시제, 계획, "~할 것이다", "~예정" 등

#### 4. 확실성 분류
- **확실**: 명확한 사실, 확정된 내용
- **불확실**: 추측, 가능성, "~것 같다", "~할 수도" 등

## Components and Interfaces

### 입력 인터페이스
```
1. 문장1
2. 문장2
...
N. 문장N
```

### 출력 인터페이스
```
1. 유형,극성,시제,확실성
2. 유형,극성,시제,확실성
...
N. 유형,극성,시제,확실성
```

### 분류 로직 흐름
1. 문장 구조 분석 (어미, 조사, 표현 패턴)
2. 유형 판단 (사실/추론/대화/예측)
3. 극성 판단 (긍정/부정/미정)
4. 시제 판단 (과거/현재/미래)
5. 확실성 판단 (확실/불확실)
6. 형식화된 출력 생성

## Data Models

### 분류 기준 모델
```
문장 분석 요소:
- 어미 패턴: -다, -습니다, -해요, -을 것이다 등
- 시간 표현: 과거, 현재, 미래 지시어
- 확실성 표현: 추측, 가능성, 확정 표현
- 극성 표현: 부정문, 긍정문, 의문문
```

### 샘플 데이터 패턴 분석 결과
- **사실형**: 뉴스 기사, 통계, 역사적 사실 등이 주를 이룸
- **추론형**: "~것 같다", "~할 수 있다" 등 추측 표현 포함
- **대화형**: 직접 인용문, 구어체 표현 ("~습니다", "~해요")
- **예측형**: 날씨 예보, 미래 계획, "~예정", "~전망" 등

## Error Handling

### 애매한 경계 사례 처리
1. **사실형 vs 추론형**: 객관적 근거 유무로 판단
2. **현재 vs 미래**: 시간 표현과 문맥으로 판단
3. **확실 vs 불확실**: 추측 표현 유무로 판단
4. **긍정 vs 미정**: 의문문과 서술문 구분

### 예외 상황 대응
- 복합 문장: 주된 의미로 분류
- 긴 문장: 핵심 내용 중심 분석
- 특수 문자: 의미에 영향 없이 처리

## Testing Strategy

### 분류 정확도 검증
1. 샘플 데이터 패턴 학습
2. 각 속성별 특징 파악
3. 경계 사례 분석
4. 일관성 검증

### 출력 형식 검증
1. 번호 순서 일치 확인
2. 쉼표 구분 정확성 확인
3. 한글 라벨 정확성 확인
4. 추가 텍스트 없음 확인

### 한글 비율 최적화
- 영어 단어 최소화
- 한글 설명 중심 작성
- 불필요한 기호 제거
- 효율적인 표현 사용

### 길이 최적화
- 3000자 제한 내 최적 길이
- 핵심 내용 중심 구성
- 중복 설명 제거
- 간결하고 명확한 표현

## Implementation Considerations

### 프롬프트 구성 원칙
1. **명확성**: 각 분류 기준을 명확하게 정의
2. **일관성**: 샘플 데이터 패턴과 일치하는 기준
3. **효율성**: 한글 비율과 길이 최적화
4. **견고성**: 다양한 문장 유형에 대응

### 품질 보장 방안
1. 샘플 데이터 기반 기준 수립
2. 경계 사례 명시적 처리
3. 출력 형식 엄격 준수
4. 일관성 있는 분류 로직

### 성능 최적화
- 분류 우선순위 설정
- 효율적인 판단 로직
- 명확한 예외 처리
- 빠른 응답을 위한 구조화